[2m[WebServer] [22mThe user aborted a request.
[2m[WebServer] [22m
[2m[WebServer] [22mRetrying 1/3...

Running 1 test using 1 worker

=== QUICK DIAGNOSTIC TEST ===
Step 1: Navigating to homepage
Step 2: Starting new game
âŒ ERROR: No 'Start Game' button found on homepage
  âœ˜  1 [chromium] â€º e2e\quick-diagnostic.spec.ts:9:7 â€º Quick 5-Turn Diagnostic â€º Validate core game flow and UI elements (1.2s)


  1) [chromium] â€º e2e\quick-diagnostic.spec.ts:9:7 â€º Quick 5-Turn Diagnostic â€º Validate core game flow and UI elements 

    Error: Start Game button not found

      23 |     if (await startButton.count() === 0) {
      24 |       console.error("âŒ ERROR: No 'Start Game' button found on homepage");
    > 25 |       throw new Error("Start Game button not found");
         |             ^
      26 |     }
      27 |
      28 |     await startButton.click();
        at C:\dev\GIT\x-imperium\e2e\quick-diagnostic.spec.ts:25:13

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results\quick-diagnostic-Quick-5-T-79a3f-e-game-flow-and-UI-elements-chromium\test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results\quick-diagnostic-Quick-5-T-79a3f-e-game-flow-and-UI-elements-chromium\error-context.md

  1 failed
    [chromium] â€º e2e\quick-diagnostic.spec.ts:9:7 â€º Quick 5-Turn Diagnostic â€º Validate core game flow and UI elements 

Running 1 test using 1 worker

=== QUICK DIAGNOSTIC TEST ===
Step 1: Navigating to homepage
Step 2: Starting new game
Step 3: Configuring game
Step 4: Verifying game started
  âœ˜  1 [chromium] â€º e2e\quick-diagnostic.spec.ts:9:7 â€º Quick 5-Turn Diagnostic â€º Validate core game flow and UI elements (4.9s)


  1) [chromium] â€º e2e\quick-diagnostic.spec.ts:9:7 â€º Quick 5-Turn Diagnostic â€º Validate core game flow and UI elements 

    Error: locator.count: SyntaxError: Invalid flags supplied to RegExp constructor 'i, [data-testid*="turn"]'
        at new RegExp (<anonymous>)
        at createTextMatcher (<anonymous>:7912:16)
        at Object.queryAll (<anonymous>:6816:33)
        at InjectedScript._queryEngineAll (<anonymous>:6789:49)
        at InjectedScript.querySelectorAll (<anonymous>:6776:30)
        at eval (eval at evaluate (:290:30), <anonymous>:2:23)
        at UtilityScript.evaluate (<anonymous>:292:16)
        at UtilityScript.<anonymous> (<anonymous>:1:44)
        at createTextMatcher (<anonymous>:7912:16)
        at Object.queryAll (<anonymous>:6816:33)
        at InjectedScript._queryEngineAll (<anonymous>:6789:49)
        at InjectedScript.querySelectorAll (<anonymous>:6776:30)
        at eval (eval at evaluate (:290:30), <anonymous>:2:23)
        at UtilityScript.evaluate (<anonymous>:292:16)
        at UtilityScript.<anonymous> (<anonymous>:1:44)
        at C:\dev\GIT\x-imperium\e2e\quick-diagnostic.spec.ts:59:29

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results\quick-diagnostic-Quick-5-T-79a3f-e-game-flow-and-UI-elements-chromium\test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results\quick-diagnostic-Quick-5-T-79a3f-e-game-flow-and-UI-elements-chromium\error-context.md

  1 failed
    [chromium] â€º e2e\quick-diagnostic.spec.ts:9:7 â€º Quick 5-Turn Diagnostic â€º Validate core game flow and UI elements 

Running 1 test using 1 worker

=== QUICK DIAGNOSTIC TEST ===
Step 1: Navigating to homepage
Step 2: Starting new game
Step 3: Configuring game
Step 4: Verifying game started
  âœ˜  1 [chromium] â€º e2e\quick-diagnostic.spec.ts:9:7 â€º Quick 5-Turn Diagnostic â€º Validate core game flow and UI elements (4.7s)


  1) [chromium] â€º e2e\quick-diagnostic.spec.ts:9:7 â€º Quick 5-Turn Diagnostic â€º Validate core game flow and UI elements 

    Error: locator.count: Unexpected token "=" while parsing css selector "[data-testid*="turn"], text=/turn.*[0-9]+/i". Did you mean to CSS.escape it?

      57 |     // Check for turn counter
      58 |     const turnIndicator = page.locator('[data-testid*="turn"], text=/turn.*[0-9]+/i').first();
    > 59 |     if (await turnIndicator.count() === 0) {
         |                             ^
      60 |       console.error("âš ï¸ UX ISSUE: No visible turn counter found");
      61 |     } else {
      62 |       console.log("âœ… Turn counter visible");
        at C:\dev\GIT\x-imperium\e2e\quick-diagnostic.spec.ts:59:29

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results\quick-diagnostic-Quick-5-T-79a3f-e-game-flow-and-UI-elements-chromium\test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results\quick-diagnostic-Quick-5-T-79a3f-e-game-flow-and-UI-elements-chromium\error-context.md

  1 failed
    [chromium] â€º e2e\quick-diagnostic.spec.ts:9:7 â€º Quick 5-Turn Diagnostic â€º Validate core game flow and UI elements 

Running 1 test using 1 worker

=== QUICK DIAGNOSTIC TEST ===
Step 1: Navigating to homepage
Step 2: Starting new game
Step 3: Configuring game
Step 4: Verifying game started
âœ… Turn counter visible
Step 5: Checking for turn summary modal
âŒ CRITICAL UX ISSUE: No turn summary modal at game start
   User feedback: Players need to acknowledge income, taxes, population before taking actions
Step 6: Testing navigation
Testing Planets page...
âœ… Planets page accessible
Testing Military page...
âœ… Military page accessible
Testing Research page...
âœ… Research page accessible
Testing Market page...
âœ… Market page accessible
Testing Combat page...
âœ… Combat page accessible
Testing Starmap page...
  âœ˜  1 [chromium] â€º e2e\quick-diagnostic.spec.ts:9:7 â€º Quick 5-Turn Diagnostic â€º Validate core game flow and UI elements (30.1s)


  1) [chromium] â€º e2e\quick-diagnostic.spec.ts:9:7 â€º Quick 5-Turn Diagnostic â€º Validate core game flow and UI elements 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: locator.click: Test timeout of 30000ms exceeded.
    Call log:
    [2m  - waiting for locator('a[href="/game/starmap"]').first()[22m
    [2m    - locator resolved to <a href="/game/starmap" class="flex items-center gap-2 text-gray-400 hover:text-gray-200 mt-2">â€¦</a>[22m
    [2m  - attempting click action[22m
    [2m    2 Ã— waiting for element to be visible, enabled and stable[22m
    [2m      - element is not visible[22m
    [2m    - retrying click action[22m
    [2m    - waiting 20ms[22m
    [2m    2 Ã— waiting for element to be visible, enabled and stable[22m
    [2m      - element is not visible[22m
    [2m    - retrying click action[22m
    [2m      - waiting 100ms[22m
    [2m    45 Ã— waiting for element to be visible, enabled and stable[22m
    [2m       - element is not visible[22m
    [2m     - retrying click action[22m
    [2m       - waiting 500ms[22m


      108 |
      109 |       console.log(`Testing ${pageInfo.name} page...`);
    > 110 |       await link.click();
          |                  ^
      111 |       await page.waitForLoadState('networkidle');
      112 |       await page.screenshot({ path: `e2e/screenshots/page-${pageInfo.name.toLowerCase()}.png`, fullPage: true });
      113 |       console.log(`âœ… ${pageInfo.name} page accessible`);
        at C:\dev\GIT\x-imperium\e2e\quick-diagnostic.spec.ts:110:18

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results\quick-diagnostic-Quick-5-T-79a3f-e-game-flow-and-UI-elements-chromium\test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results\quick-diagnostic-Quick-5-T-79a3f-e-game-flow-and-UI-elements-chromium\error-context.md

  1 failed
    [chromium] â€º e2e\quick-diagnostic.spec.ts:9:7 â€º Quick 5-Turn Diagnostic â€º Validate core game flow and UI elements 

Running 1 test using 1 worker

=== QUICK DIAGNOSTIC TEST ===
Step 1: Navigating to homepage
Step 2: Starting new game
Step 3: Configuring game
Step 4: Verifying game started
âœ… Turn counter visible
Step 5: Checking for turn summary modal
âŒ CRITICAL UX ISSUE: No turn summary modal at game start
   User feedback: Players need to acknowledge income, taxes, population before taking actions
Step 6: Testing navigation
Testing Planets page...
âœ… Planets page accessible
Testing Military page...
âœ… Military page accessible
Testing Research page...
âœ… Research page accessible
Testing Market page...
âœ… Market page accessible
Testing Combat page...
âœ… Combat page accessible
Testing Starmap page...
   Scrolling Starmap link into view...
âš ï¸ WARNING: Starmap link not accessible (may be in collapsed menu)
âš ï¸ WARNING: Could not navigate to Starmap (locator.click: Target page, context or browser has been closed)
  âœ˜  1 [chromium] â€º e2e\quick-diagnostic.spec.ts:9:7 â€º Quick 5-Turn Diagnostic â€º Validate core game flow and UI elements (30.1s)


  1) [chromium] â€º e2e\quick-diagnostic.spec.ts:9:7 â€º Quick 5-Turn Diagnostic â€º Validate core game flow and UI elements 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: page.screenshot: Target page, context or browser has been closed

      133 |       } catch (error) {
      134 |         console.error(`âš ï¸ WARNING: Could not navigate to ${pageInfo.name} (${error instanceof Error ? error.message : 'unknown error'})`);
    > 135 |         await page.screenshot({ path: `e2e/screenshots/page-${pageInfo.name.toLowerCase()}-failed.png`, fullPage: true });
          |                    ^
      136 |       }
      137 |     }
      138 |
        at C:\dev\GIT\x-imperium\e2e\quick-diagnostic.spec.ts:135:20

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results\quick-diagnostic-Quick-5-T-79a3f-e-game-flow-and-UI-elements-chromium\test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results\quick-diagnostic-Quick-5-T-79a3f-e-game-flow-and-UI-elements-chromium\error-context.md

  1 failed
    [chromium] â€º e2e\quick-diagnostic.spec.ts:9:7 â€º Quick 5-Turn Diagnostic â€º Validate core game flow and UI elements 

Running 1 test using 1 worker

=== QUICK DIAGNOSTIC TEST ===
Step 1: Navigating to homepage
Step 2: Starting new game
Step 3: Configuring game
Step 4: Verifying game started
âœ… Turn counter visible
Step 5: Checking for turn summary modal
âŒ CRITICAL UX ISSUE: No turn summary modal at game start
   User feedback: Players need to acknowledge income, taxes, population before taking actions
   Note: Modal should have data-testid='turn-summary-modal'
Step 6: Testing navigation
Testing Planets page...
âœ… Planets page accessible
Testing Military page...
âœ… Military page accessible
Testing Research page...
âœ… Research page accessible
Testing Market page...
âœ… Market page accessible
Testing Combat page...
âœ… Combat page accessible
Testing Starmap page...
   Scrolling Starmap link into view...
âš ï¸ WARNING: Starmap link not accessible (may be in collapsed menu)
âš ï¸ WARNING: Could not navigate to Starmap (locator.click: Target page, context or browser has been closed)
   Could not capture screenshot: page may be closed
   Skipping Starmap for remainder of test
Step 7: Testing End Turn functionality
  âœ˜  1 [chromium] â€º e2e\quick-diagnostic.spec.ts:9:7 â€º Quick 5-Turn Diagnostic â€º Validate core game flow and UI elements (30.1s)


  1) [chromium] â€º e2e\quick-diagnostic.spec.ts:9:7 â€º Quick 5-Turn Diagnostic â€º Validate core game flow and UI elements 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: locator.count: Target page, context or browser has been closed

      163 |
      164 |     const endTurnBtn = page.locator('button').filter({ hasText: /end.*turn|next.*turn/i }).first();
    > 165 |     if (await endTurnBtn.count() === 0) {
          |                          ^
      166 |       console.error("âŒ CRITICAL ERROR: End Turn button not found");
      167 |       throw new Error("End Turn button not found");
      168 |     }
        at C:\dev\GIT\x-imperium\e2e\quick-diagnostic.spec.ts:165:26

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results\quick-diagnostic-Quick-5-T-79a3f-e-game-flow-and-UI-elements-chromium\test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results\quick-diagnostic-Quick-5-T-79a3f-e-game-flow-and-UI-elements-chromium\error-context.md

  1 failed
    [chromium] â€º e2e\quick-diagnostic.spec.ts:9:7 â€º Quick 5-Turn Diagnostic â€º Validate core game flow and UI elements 
